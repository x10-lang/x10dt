<html>
<title>X10 Frequently Asked Questions (FAQs)</title>
<br>

<body>
<h1>X10 Frequently Asked Questions (FAQs)</h1>

<a href="#faq1">final error</a><br>
<a href="#faq2">out of memory error</a><br>
<a href="#faq3">file out of sync with the file system</a><br>
<a href="#faq4">red marker while typing</a><br>
<a href="#faq5">program errors</a><br>
<a href="#faq6">default font</a><br>
<a href="#faq7">classpath error after updating X10DT</a><br>
<a href="#faq8">java errors</a><br>
<a href="#faq9">editor stops responding</a><br>
<a href="#faq10">code not compiling</a><br>
<a href="#faq11">importing code from another workspace</a><br>
<a href="#faq12">x10 and java files</a><br>
<a href="#faq13">default tab size</a><br>
<a href="#faq14">generated Java application not found</a><br>
<a href="#faq15">missing blue markers using global search</a><br>
<a href="#faq16">can't add breakpoint</a><br>
<a href="#faq17">missing problem errors and markers</a><br>
<a href="#faq18">public type Foo must be defined in its own file</a><br>
<a href="#faq19">possible deadlock using when</a><br>
<a href="#faq20">remote atomic blocks not implemented correctly</a><br>


<!-- ********************************************* -->

<h2><a name="faq1">final errors<a></h2>
<p>
Final errors may be flagged from the java compiler. For example,
      <table border="1">
        <tbody>
          <tr>
            <td>Cannot refer to a non-final variable n inside an inner class defined in a different method</td>
            <td>TutError3/src</td>
            <td>TutError3.java</td>
            <td>line 82</td>
          </tr>
        </tbody>
      </table>
<p>
Double click on the error to open the java code.  
	<table border="1">
        <tbody>
          <tr>
            <td>//#line 12</td
          </tr>
          <tr>
            <td>int i =</td
          </tr>
          <tr>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1;</td
          </tr>
          <tr>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i <=</td
          </tr>
          <tr>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n;</td
          </tr>
        </tbody>
      </table>
<p>
Refer to the comment above the line of code to find the corresponding
line number in your x10 code.
</p>  

<h2><a name="faq2">out of memory error<a></h2>
<p>
Eclipse gets installed with the following defaults for the min and max heap sizes.
      <table border="1">
        <tbody>
          <tr>
			<td>-Xms40m</td>
            <td>-Xmx256m</td>
          </tr>
        </tbody>
      </table>
<p>
The min and max heap size should be updated to 256m and 1024m respectively.  
However, to be safe you should exit eclipse periodically and restart.
</p>  

<h2><a name="faq3">file out of sync with the file system<a></h2>
<p>
On occasion while deleting resources you may get a
"file out of sync with the file system" error.  
Refresh (F5) the project and continue.
</p>  

<h2><a name="faq4">red marker while typing<a></h2>
<p>
A red marker may appear on the left side while typing a line. While there
is a delay before the parser checks the line, it may show an error before
you have finished typing the line.
</p> 

<h2><a name="faq5">program errors<a></h2>
<p>
If you find an error in your X10 code, don't assume that it is your only error.  
Although the X10 compiler tries to catch all the errors in your code, sometimes
it stops before finishing all of your code and files.
Fix the error and re-build.
</p> 

<h2><a name="faq6">default font<a></h2>
<p>
The font for the X10 perspective may default to a variable width font depending
on your environment, e.g. Microsoft San Serif 8pt. You can use the X10 
preferences to set your default font to something like Courier New 10pt.
</p>   

<h2><a name="faq7">classpath error after updating X10DT<a></h2>
<p>
After updating to a new X10DT release, you may get a classpath error. To fix this
problem you should edit the project properties "Java Build Path->Libraries" 
variable for the latest X10 runtime jar file.  
      <table border="1">
        <tbody>
          <tr>
			<td>ECLIPSE_HOME/plugins/x10.runtime_0.1.79.jar</td>
          </tr>
        </tbody>
      </table>
You can find the latest version in the \eclipse\plugins directory.
In future releases, this should be updated automatically.
</p>  

<h2><a name="faq8">java errors<a></h2>
<p>
The X10 compiler generates java code which is ultimately executed.
Although the X10 compiler tries to catch all the errors,  the java compiler might find
some more. For example,
      <table border="1">
        <tbody>
          <tr>
            <td>Cannot refer to a non-final variable n inside an inner class defined in a different method</td>
            <td>TutError3/src</td>
            <td>TutError3.java</td>
            <td>line 82</td>
          </tr>
        </tbody>
      </table>
<p>
Double click on the error to open the java code.  
	<table border="1">
        <tbody>
          <tr>
            <td>//#line 12</td
          </tr>
          <tr>
            <td>int i =</td
          </tr>
          <tr>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1;</td
          </tr>
          <tr>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i <=</td
          </tr>
          <tr>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n;</td
          </tr>
        </tbody>
      </table>
<p>
Refer to the comment above the line of code to find the corresponding
line number in your x10 code.
</p>

<h2><a name="faq9">editor stops responding<a></h2>
<p>
If your editor is not responding to keystrokes, close the file tab and reopen the file.
</p>  

<h2><a name="faq10">code not compiling<a></h2>
<p>
If it looks like your code is not compiling correctly, remove the java source, clean the project, and rebuild.
You can also put a gratuitous space in the file, save it, clean, and rebuild.
</p>

<h2><a name="faq11">importing code from another workspace<a></h2>
<p>
If you are importing code from another workspace, 
make sure that you check the "Copy projects into workspace" check box
at the bottom of the dialog.
</p>  

<h2><a name="faq12">x10 and java files<a></h2>
<p>
The X10 compiler generates java files from the x10 files.  
If a package has been specified in the x10 code, 
the runtime environment expects the x10 code and the java code 
to be in the same package directory.  
If not, you may see this error.  

      <table border="1">
        <tbody>
          <tr>
            <td>Declared package doesn't match source file location.</td>
            <td>swserialv2/src</td>
            <td>Sequence.x10</td>
            <td>C:\eclipse-x10t\workspace\swserialv2\src\Sequence.x10</td>
          </tr>
        </tbody>
      </table>


</p> 
A project that contains x10 files where there is no package specified will place
the java generated files in 
<table border="1">
        <tbody>
          <tr>
            <td>+ (default package)</td>
          </tr>
           <tr>
            <td>X10 files</td>
          </tr>
        </tbody>
      </table>           

<h2><a name="faq13">default tab size<a></h2>
<p>
You may use the X10 preferences to change the tab size. The default is 4.
Entering an empty field means "use default value" which happens to be 4.  
A blue background indicates default value in use.
</p>  

<h2><a name="faq14">generated Java application not found<a></h2>
<p>
If you get an error like this
      <table border="1">
        <tbody>
          <tr>
            <td>Generated Java application not found for X10 application BlockDistedArray2D_Dep.x10;
			perhaps there is a pending compilation error?            
            </td>
          </tr>
        </tbody>
      </table>
<p>
make sure that the class name is the same as the file name
      <table border="1">
        <tbody>
          <tr>
            <td>BlockDistedArray2D_Dep.x10</td>
          </tr>
           <tr>
            <td>public class BlockDistedArray2D extends x10Test {</td>
          </tr>
        </tbody>
      </table>
</p> 

<h2><a name="faq15">missing blue markers using global search<a></h2>
<p>
If you do a global search across multiple files, the blue markers will only appear on the file with the focus.
You can get the blue markers back on another file by rerunning the search.
</p>  

<h2><a name="faq16">can't add breakpoint<a></h2>
<p>
There are two cases for this:
<ol>
<li> Breakpoints can only be added once a program has correctly compiled.  Double clicking in the margin will be ignored until that time.
<li>When switching buffers, breakpoint annotations (blue circles) will sometimes not be displayed, which could be confusing.  
    Recompiling will restore the breakpoint annotations.   
</ol>
</p>  

<h2><a name="faq17">missing problem errors and markers<a></h2>
<p>
If you have been working on a project that contains errors, and exit eclipse, on return the errors and markers might not appear.
Clean your project and rebuild.
</p> 

<h2><a name="faq18">public type Foo must be defined in its own file<a></h2>

<b>Scenario:</b>
<p>
<ol>
<li> You're compiling a file called Foo.x10
<li> Error reported on resource foo.java: "The public type Foo must be defined in its own file"
</ol>
</p>
<b>How it happened:</b>
<p>
Your wanted to create an X10 class called Foo.  In the New dialog, you accidentally typed in "foo" as the name.
So you used Refactor>Rename to change "foo.x10" to "Foo.x10"
Auto-compile was on, so before you did the rename, "foo.x10" got compiled into "foo.java"
The X10 compiler may (depending on platform) continue to use "foo.java" as the result of compilation, even though the programmer changed the case of the .x10 filename.
</p>
<b>Workaround:</b>
<p>
delete the file "foo.java" in the target package.   The next compile will generate "Foo.java" which java will be much happier with.
</p>  

<h2><a name="faq19">possible deadlock using when<a></h2>
<p>
If you have an activity checking for the value of a field in a when, 
make sure that the field is assigned in an atomic statement. 
Otherwise you may observe a deadlock (the activity waiting for the field 
to be set may not discover the field has been set).
</p> 

<h2><a name="faq20">remote atomic blocks not implemented correctly<a></h2>
<p>
The current implementation permits the field of an object located at place P 
to be read by an activity at a place Q (Q different from P). 
That is, the implementation permits remote access. 
However, remote atomic blocks are not implemented correctly. 
(Implementation note: If the activity at place Q performs a remote atomic operation at place P, 
it grabs the lock at place Q rather than place P. ) 
</p> 
 

</body>
</html>