<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<meta name="GENERATOR" content="TtH 3.80">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>
	<title>Places</title>
</head>

<body>
 <h1><a name="tth_chAp1">
Chapter 1 </a><br />Places</h1><a name="XtenPlaces">
</a>
 
An  X10 place is a repository for data and activities. Each place
is to be thought of as a locality boundary: the activities running in
a place may access data items located at that place with the
efficiency of on-chip access. Accesses to remote places may take
orders of magnitude longer.

<div class="p"><!----></div>
 X10 provides a built-in value class, <tt>x10.lang.place</tt>; all
places are instances of this class.  This class is <tt>final</tt> in
 X10 v1.01.

<div class="p"><!----></div>
In  X10 v1.01, the set of places available to a computation is
determined at the time that the program is run and remains fixed
through the run of the program. The number of places available 
may be determined by reading (<tt>place.MAX_PLACES</tt>). (This number
is specified from the command line/configuration information; 
see associated <tt>README</tt> documentation.)

<div class="p"><!----></div>
All scalar objects created during program execution are located in one
place, though they may be referenced from other places. Aggregate
objects (arrays) may be distributed across multiple places using
distributions.

<div class="p"><!----></div>
The set of all places in a running instance of an  X10 program may
be obtained through the <tt>const</tt> field <tt>place.places</tt>.  (This
set may be used to define distributions, for instance,
&#167;&nbsp;.) 

<div class="p"><!----></div>
The set of all places is totally ordered.  The first place may be
obtained by reading <tt>place.FIRST_PLACE</tt>. The initial activity for
an  X10 computation starts in this place
(&#167;&nbsp;). For any place, the operation<tt>next()</tt>
returns the next place in the total order (wrapping around at the
end). Further details on the methods and fields available on this
class may be obtained by consulting the API documentation.

<div class="p"><!----></div>
<em>Note: Future versions of the language may permit user-definable
places, and the ability to dynamically create places. </em>

<div class="p"><!----></div>

<b>Static semantics.&nbsp;&nbsp;</b>
Variables of type <tt>place</tt> must be initialized and are implicitly
<tt>final</tt>.  

<div class="p"><!----></div>
     <h3><a name="tth_sEc0.1">
0.1</a>&nbsp;&nbsp;Place expressions</h3>
Any expression of type <tt>place</tt> is called a place expression. 
Examples of place expressions are <tt>this.location</tt> (the place
at which the current object lives), <tt>place.FIRST_PLACE</tt>
(the first place in the system in canonical order). 

<div class="p"><!----></div>
Place expressions are used in the following contexts: 

<ul>
<li> As a target for an <tt>async</tt> activity or a future
(&#167;&nbsp;).
<div class="p"><!----></div>
</li>

<li> In a class cast expression  (&#167;&nbsp;).
<div class="p"><!----></div>
</li>

<li> In an <tt>instanceof</tt> expression (&#167;&nbsp;).
<div class="p"><!----></div>
</li>

<li> In stable equality comparisons, at type <tt>place</tt>.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
Like values of any other type, places may be passed as arguments
to methods, returned from methods, stored in fields etc.

<div class="p"><!----></div>
     <h3><a name="tth_sEc0.2">
0.2</a>&nbsp;&nbsp;<tt>here</tt></h3><a name="Here">
</a>
 X10 supports a special indexical constant<a href="#tthFtNtAAB" name="tthFrefAAB"><sup>1</sup></a>
  <tt>here</tt>:
<pre>
22 ExpressionName ::= here
</pre>

<div class="p"><!----></div>
The constant evaluates to the place at which the current activity is
running. Unlike other place expressions, this constant cannot be 
used as the placetype of fields, since the type of a field 
should be independent of the activity accessing it.

<div class="p"><!----></div>

<b>Example.&nbsp;&nbsp;</b>
The code:
<pre>
public class F {
   public void m( F a ) {
     place OldHere = here;
     async ( a ) {
      System.out.println(&#214;ldHere == here:" 
                         + (OldHere == here));
     }
   }
  public static void main(String[] s) {
     new F().m(future( place.FIRST_PLACE.next())
                { new F()}.force());
  }
}  
</pre>

<div class="p"><!----></div>
 will print out <tt>true</tt> iff the computation was configured
to start with the number of places set to <tt>1</tt>. 

<div class="p"><!----></div>
<hr /><h3>Footnotes:</h3>

<div class="p"><!----></div>
<a name="tthFtNtAAB"></a><a href="#tthFrefAAB"><sup>1</sup></a>
An indexical constant is one whose value depends on its context of use.
<br /><br /><hr /><small>File translated from
T<sub><font size="-1">E</font></sub>X
by <a href="http://hutchinson.belmont.ma.us/tth/">
T<sub><font size="-1">T</font></sub>H</a>,
version 3.80.<br />On 07 Jun 2008, 13:50.</small>
</body>
</html>