<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<meta name="GENERATOR" content="TtH 3.80">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>
	<title>Classes</title>
</head>

<body>
 <h1><a name="tth_chAp1">
Chapter 1 </a><br />Classes</h1>
<a name="XtenClasses">
</a>

<div class="p"><!----></div>
The <em>class declaration</em> has a list of type parameters, properties, a
constraint (the <em>class invariant</em>, a single superclass, one or
more interfaces, and a class body containing the the definition of
fields, properties, methods, and member types.  Each such declaration introduces a
class type (&#167;).

<div class="p"><!----></div>
  :  |        <em>  
<table>
<tr><td align="right">NormalClassDeclaration &nbsp;
      ClassModifiers<sup>?</sup>&nbsp;"class" Identifier  </td></tr>
<tr><td align="right">&amp;&amp; TypeParameterList<sup>?</sup>&nbsp;PropertyList<sup>?</sup>&nbsp;Guard<sup>?</sup>&nbsp;</td></tr>
<tr><td align="right">&amp;&amp; Super<sup>?</sup>&nbsp;Interfaces<sup>?</sup>&nbsp;ClassBody </td></tr>
<tr><td align="right"></td></tr>
<tr><td align="right">TypeParameterList     &nbsp;"[" TypeParameters "]" </td></tr>
<tr><td align="right">TypeParameters        &nbsp;TypeParameter ( "," Typearameter )<sup>*</sup>&nbsp;</td></tr>
<tr><td align="right">TypeParameter         &nbsp;Variance<sup>?</sup>&nbsp;Annotation<sup>*</sup>&nbsp;Identifier     </td></tr>
<tr><td align="right">Variance &nbsp;"+" </td></tr>
<tr><td align="right">&amp;&amp; "-" </td></tr>
<tr><td align="right"></td></tr>
<tr><td align="right">PropertyList     &nbsp;"(" Properties ")" </td></tr>
<tr><td align="right">Properties       &nbsp;Property ( "," Property )<sup>*</sup>&nbsp;</td></tr>
<tr><td align="right">Property         &nbsp;Annotation<sup>*</sup>&nbsp;"val"<sup>?</sup>&nbsp;Identifier ":" Type </td></tr>
<tr><td align="right"></td></tr>
<tr><td align="right">Super &nbsp;&#235;xtends" ClassType </td></tr>
<tr><td align="right">Interfaces &nbsp;&#239;mplements" InterfaceType ( "," InterfaceType)<sup>*</sup>&nbsp;</td></tr>
<tr><td align="right"></td></tr>
<tr><td align="right">ClassBody &nbsp;ClassMember<sup>*</sup>&nbsp;</td></tr>
<tr><td align="right">ClassMember &nbsp;ClassDeclaration </td></tr>
<tr><td align="right">\ -  InterfaceDeclaration </td></tr>
<tr><td align="right">\ -  FieldDeclaration </td></tr>
<tr><td align="right">\ -  MethodDeclaration </td></tr>
<tr><td align="right">\ -  ConstructorDeclaration </td></tr>
<tr><td align="right"></td></tr></table>
</em>

<div class="p"><!----></div>
A type parameter declaration is given by an optional variance tag and an identifier.
A type parameter must be bound to a concrete type when an instance of the class is created.

<div class="p"><!----></div>
A property has a name and a type.   Properties
are accessible in the same way as "public" "final"
fields.

<div class="p"><!----></div>
 S<font size="-2">TATIC</font> S<font size="-2">EMANTICS</font> R<font size="-2">ULE</font>:
It is a compile-time error for a class
defining a property "x: T" to have an ancestor class that defines
a property with the name "x".  


<div class="p"><!----></div>
Each class "C" defining a property "x: T" implicitly has a field

<div class="p"><!----></div>
<pre>
public val x : T;
</pre>

<div class="p"><!----></div>
 and a getter method

<div class="p"><!----></div>
<pre>
public final def x()=x;
</pre>

<div class="p"><!----></div>
 Each interface &#207;" defining a property "x: T"
implicitly has a getter method

<div class="p"><!----></div>
<pre>
public def x(): T;
</pre>

<div class="p"><!----></div>
 S<font size="-2">TATIC</font> S<font size="-2">EMANTICS</font> R<font size="-2">ULE</font>:
It is a compile-time error for a class or
interface defining a property "x :T" to have an existing method with
the signature "x(): T".


<div class="p"><!----></div>
Properties are used to build dependent types from classes, as
described in &#167;.

<div class="p"><!----></div>
Properties are initialized by the invocation of a special "property" call in each constructor
of the class:
<pre>
property(e1,..., en);
</pre>
The number and type of arguments to the "property" call must match the number
and type of properties in the class declaration, in left to right lexical order. Each constructor is required to initialize its properties before normal termination.


<a name="PropertyCall">
</a>

<div class="p"><!----></div>
<a name="ClassGuard">
</a>The <em>Guard</em> in a class or interface declaration specifies an
explicit condition on the properties of the type, and is discussed further
in &#167;.

<div class="p"><!----></div>
 S<font size="-2">TATIC</font> S<font size="-2">EMANTICS</font> R<font size="-2">ULE</font>:
Every constructor for a class defining
   properties "x<sub>1</sub>: T<sub>1</sub>, <font face="symbol">¼</font
>, x<sub>n</sub>: T<sub>n</sub>" must ensure that each of the fields
   corresponding to the properties is definitely initialized
   (cf. requirement on initialization of final fields in Java) before the
   constructor returns.


<div class="p"><!----></div>
Type parameters are used to define generic classes and
interfaces, as described in &#167;.

<div class="p"><!----></div>
Classes are structured in a single-inheritance code
hierarchy, may implement multiple interfaces, may have static and
instance fields, may have static and instance methods, may have
constructors, may have static and instance initializers, may have
static and instance inner classes and interfaces. X10 does not
permit mutable static state.

<div class="p"><!----></div>
Method signatures may specify checked exceptions. Method definitions
may be overridden by subclasses; the overriding definition may have a
declared return type that is a subclass of the return type of the
definition being overridden. Multiple methods with the same name but
different signatures may be provided on a class (ad hoc
polymorphism). The "public"/"private"/"protected"/default-protected access
modification framework may be used.

<div class="p"><!----></div>
<a name="ReferenceClasses">
</a>Class declarations may
be used to construct class types (&#167;). Classes may
have mutable fields. Instances of a class are always created in a
fixed place and in X10 v2.0 stay there for the lifetime of the
object.  Variables declared at a class type always store a reference
to the object, regardless of whether the object is local or remote.

<div class="p"><!----></div>

</body>
</html>