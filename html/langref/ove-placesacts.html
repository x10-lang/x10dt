<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<meta name="GENERATOR" content="TtH 3.80">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>
	<title>Places and activities</title>
</head>

<body>
 <h2><a name="tth_sEc3">
3</a>&nbsp;&nbsp;Places and activities</h2>
An X10 program is intended to run on a wide range of computers,
from uniprocessors to large clusters of parallel processors supporting
millions of concurrent operations. To support this scale, X10
introduces the central concept of <em>place</em> (&#167;).
Conceptually, a place is a "virtual shared-memory multi-processor":
a computational unit with a finite (though perhaps changing) number of
hardware threads and a bounded amount of shared memory, uniformly
accessible by all threads.

<div class="p"><!----></div>
An X10 computation acts on <em>data
objects</em>(&#167;) through the execution of lightweight
threads called <em>activities</em>(&#167;).  Objects are
of two kinds. A <em>scalar</em> object has a small, statically fixed set
of fields, each of which has a distinct name. A scalar object is
located at a single place and stays at that place throughout its
lifetime.  An <em>aggregate</em> object has many fields (the number may
be known only when the object is created), uniformly accessed through
an index (e.g., an integer) and may be distributed across many
places. The distribution of an aggregate object remains unchanged
throughout the computation. X10 assumes an underlying garbage
collector will dispose of (scalar and aggregate) objects and reclaim
the memory associated with them once it can be determined that these
objects are no longer accessible from the current state of the
computation. (There are no operations in the language to allow a
programmer to explicitly release memory.)

<div class="p"><!----></div>
X10 has a <em>unified</em> or <em>global address space</em>. This
means that an activity can reference objects at other places.
However, an activity may synchronously access data items only in the
current place (the place in which the activity is running). It may
atomically update one or more data items, but only in the current
place.  To read a remote location, an activity must spawn another
activity <em>asynchronously</em> (&#167;). This
operation returns immediately, leaving the spawning activity with a
<em>future</em> (&#167;) for the result. Similarly, remote
location can be written into only by asynchronously spawning an
activity to run at that location.

<div class="p"><!----></div>
Throughout its lifetime an activity executes at the same place. An
activity may dynamically spawn activities in the current or remote
places.

<div class="p"><!----></div>

<b>Place casts.&nbsp;&nbsp;</b>
The programmer may use the standard type cast mechanism
(&#167;) to cast a value to a located type. A
<b>BadPlaceException</b> is thrown if the value is not of the given
type. This is the only language construct that throws a <b>BadPlaceException</b>.

<div class="p"><!----></div>

<b>Atomic blocks.&nbsp;&nbsp;</b>

<div class="p"><!----></div>
X10 introduces statements of the form <b>atomic S</b> where <b>S</b>
is a statement.  The type system ensures that such a statement will
dynamically access only local data. (The statement may throw
a <b>BadPlaceException</b>-but only because of a failed place cast.)
Such a statement is executed by the activity as if in a single step
during which all other activities are frozen.

<div class="p"><!----></div>

<b>Asynchronous activities.&nbsp;&nbsp;</b>

<div class="p"><!----></div>
An asynchronous activity is created by a statement <b>async (P) S</b>
where <b>P</b> is a place expression and <b>S</b> is a statement.  Such
a statement is executed by spawning an activity at the place
designated by <b>P</b> to execute statement <b>S</b>.

<div class="p"><!----></div>
An asynchronous expression of type <b>Future[T]</b> has the form
<b>future (p) e</b> where <b>e</b> is an expression of type
<b>T</b>.  The expression <b>e</b>
may reference <b>val</b>s and shared <b>var</b>s declared in the lexically
enclosing environment.  It executes the expression <b>e</b> at the
place <b>p</b> as an asynchronous activity, immediately returning with
a future. The future may later be forced causing the activity to be
blocked until the return value has been computed by the asynchronous
activity.

<div class="p"><!----></div>

</body>
</html>