<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<meta name="GENERATOR" content="TtH 3.80">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>
<title>Object-oriented features</title>
</head>

<body>
<div class="p"><!----></div>
 <h2><a name="tth_sEc1">
1</a>&nbsp;&nbsp;Object-oriented features</h2>

<div class="p"><!----></div>
The sequential core of  X10 is a class-based object-oriented language
similar to  java or Scala.
Programmers write  X10 code by writing
<em>interfaces</em>
() and
<em>classes</em>
().

<div class="p"><!----></div>
An  X10 class has fields, methods and
inner types (interfaces, classes), subclasses another class, and
implements one or more interfaces. Thus  X10 classes live in a
single-inheritance code hierarchy.  An interface specifies a set
of methods, constant fields, and inner types.  Interfaces are
multiply inherited.

<div class="p"><!----></div>

<b>Dependent types&nbsp;&nbsp;</b>
Classes and interfaces may declare <em>properties</em>: immutable object members bound at object construction.
Types may be defined by constraining a
class or interface's properties.
<em>Value properties</em> enable the definition of <em>dependent types</em>.

<div class="p"><!----></div>
For example, the following code declares a class for a two-dimensional 
"Point" class with an &#228;dd" method.
<pre>
class Point(x: Int, y: Int) {
    def add(p: Point): Point { return new Point(x+p.x,y+p.y); } 
}
</pre>
The class has integer value properties "x" and &#255;".
The &#228;dd" method creates and returns a new point by
element-wise addition.

<div class="p"><!----></div>
From this class, we can define the
the dependent type "Point {x==0}".  This is the type of all points 
with "x" set to "0"; that is, all points along the y-axis.

<div class="p"><!----></div>

<b>Generic types&nbsp;&nbsp;</b>

<div class="p"><!----></div>
Classes and interfaces may have type parameters, permitting the definition of
<em>generic types</em>.
For example,
the following code declares a simple "List" class with a
type parameter "T".


<div class="p"><!----></div>
<pre>
class List[T] {
    var head: T;
    var tail: List[T];
    def this(h: T, t: List[T]) { head = h; tail = t; } 
    def add(x: T) {
        if (this.tail == null)
            this.tail = new List(x, null);
        else
            this.tail.add(x);
	}   
}
</pre>
The constructor ("def this") initializes the fields of the new object.
The &#228;dd" method appends an element to the list.
"List" is a generic type.  When  instances of "List" are
allocated, the type  "T" must be bound to a concrete
type.  "List[Int]" is the type of lists of element type
&#207;nt", "List[String]" is the type of lists of element
type "String".

<div class="p"><!----></div>

<b>Reference and value classes&nbsp;&nbsp;</b>

<div class="p"><!----></div>
There are two kinds of classes: <em>reference</em> classes
() and <em>value</em> classes
().
A reference class typically has updatable fields.
Objects of such a
class may not be freely copied from place to place. Methods may be
invoked on such an object only by an activity in the same place.
The "null" reference is a value of any reference type.

<div class="p"><!----></div>
A value class () has no updatable fields (defined
directly or through inheritance), and allows no reference
subclasses. (Fields may be typed at reference classes, so may contain
references to objects with mutable state.) Objects of such a class may
be freely copied from place to place, and may be implemented very
efficiently. Methods may be invoked on such an object from any place.

<div class="p"><!----></div>
 X10 has no primitive classes. However, the standard library
"x10.lang" supplies (final) value classes <tt>"Boolean", "Byte",
"Short", "Char", &#207;nt", "Long", "Float",
"Double", "Complex"</tt> and <tt>"String"</tt>. The user may define
additional arithmetic value classes using the facilities of the
language.
</body>
</html>