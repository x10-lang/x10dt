<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<meta name="GENERATOR" content="TtH 3.80">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>
<title>Functions as objects of type Any</title>
</head>

<body>
 <h2><a name="tth_sEc5">
5</a>&nbsp;&nbsp;Functions as objects of type <b>Any</b></h2>
<a name="FunctionAnyMethods">
</a>

<div class="p"><!----></div>
<a name="FunctionEquality">
</a>  Two functions <b>f</b> and
<b>g</b> are equal if both were obtained by the same evaluation of a function
literal.<a href="#tthFtNtAAC" name="tthFrefAAC"><sup>2</sup></a> Further, it is guaranteed that if two
functions are equal then they refer to the same locations in the environment
and represent the same code, so their executions in an identical situation are
indistinguishable. (Specifically, if <b>f == g</b>, then <b>f(1)</b> can be
substituted for <b>g(1)</b> and the result will be identical. However, there is
no guarantee that <b>f(1)==g(1)</b> will evaluate to true. Indeed, there is no
guarantee that <b>f(1)==f(1)</b> will evaluate to true either, as <b>f</b> might
be a function which returns n on its n<sup>th</sup> invocation. However,
<b>f(1)==f(1)</b> and <b>f(1)==g(1)</b> are interchangeable.)


<div class="p"><!----></div>
Every function type implements all the methods of <b>Any</b>.
<b>f.equals(g)</b> is equivalent to <b>f==g</b>.  <b>f.hashCode()</b>, 
<b>f.toString()</b>, and <b>f.typeName()</b> are implementation-dependent, but
respect <b>equals</b> and the basic contracts of <b>Any</b>. 

<div class="p"><!----></div>
<hr /><h3>Footnotes:</h3>

<div class="p"><!----></div>
<a name="tthFtNtAAB"></a><a href="#tthFrefAAB"><sup>1</sup></a>Strictly, there are a few other requirements;
  <em>e.g.</em>, <b>result</b> must be a <b>var</b> of type <b>T</b> defined outside the
  outer block, the variables <b>a1</b> and <b>a2</b> had better not appear in
  <b>e</b>, and everything in sight had better typecheck properly.
<div class="p"><!----></div>
<a name="tthFtNtAAC"></a><a href="#tthFrefAAC"><sup>2</sup></a>A literal may occur in program text within a loop, and hence
  may be evaluated multiple times.
<br /><br />

</body>
</html>