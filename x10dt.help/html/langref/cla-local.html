<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<meta name="GENERATOR" content="TtH 3.80">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>
	<title>Local Classes</title>
</head>

<body>
 <h2><a name="tth_sEc12">
12</a>&nbsp;&nbsp;Local Classes</h2>

<div class="p"><!----></div>
Classes can be defined and instantiated in the middle of methods and other
code blocks.
A local class in a static method is a static class; a local class in an
instance method is an inner class.
 Local classes are local to the block in which they are defined.
They have access to almost everything defined at that point in the method; the
one exception is that they cannot use <b>var</b> variables. Local classes
cannot be <b>public</b> <b>protected</b>, or <b>private</b>, because they are
only visible from within the block of declaration. They cannot be
<b>static</b>.

<div class="p"><!----></div>
The following example illustrates the use of a local class <b>Local</b>, 
defined inside the body of method <b>m()</b>. 
<pre>
class Outer {
  val a = 1;
  def m() {
    val a = -2; 
    val b = 2;
    class Local {
      val a = 3;
      def m() = 100*Outer.this.a + 10*b + a; 
    }
    val l : Local = new Local();
    assert l.m() == 123;
  }//end of m()
}
</pre>
Note that the middle <b>a</b>,
whose value is <b>-2</b>, is not accessible inside of <b>Local</b>; it is
shadowed by <b>Local</b>'s <b>a</b> field.  <b>Outer</b>'s <b>a</b> is also
shadowed, but the notation <b>Outer.this</b> gives a reference to the enclosing
<b>Outer</b> object.  There is no corresponding notation to access shadowed local
variables from the enclosing block; if you need to get them, rename the fields
of <b>Local</b>.    


<div class="p"><!----></div>

</body>
</html>