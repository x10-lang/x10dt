<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
           "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<meta name="GENERATOR" content="TtH 3.89">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>
 
      
<title>`</title>

<div class="p"><!----></div>
`\`=13


<div class="p"><!----></div>
`^^M=13 

<div class="p"><!----></div>
`^^I=13 

<div class="p"><!----></div>
}}


<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>
    




<div class="p"><!----></div>

<div class="p"><!----></div>
  
<div class="p"><!----></div>

<div class="p"><!----></div>
 <h1><a name="tth_chAp1">
Chapter 1 </a><br />Places</h1>
<a name="XtenPlaces">
</a>


<div class="p"><!----></div>
An X10 place is a repository for data and activities, corresponding
loosely to a process or a processor. Places induce a concept of "local". The
activities running in a place may access data items located at that place with
the efficiency of on-chip access. Accesses to remote places may take orders of
magnitude longer. X10's system of places is designed to make this obvious.
Programmers are aware of the places of their data, and know when they are
incurring communication costs, but the actual operation to do so is easy. It's
not hard to use non-local data; it's simply hard to to do so accidentally.

<div class="p"><!----></div>
The set of places available to a computation is determined at the time that
the program is started, and remains fixed through the run of the program. See
the <tt>README</tt> documentation on how to set command line and configuration
options to set the number of places.

<div class="p"><!----></div>
Places are first-class values in X10, as instances of the built-in struct,
<b>x10.lang.Place</b>.   <b>Place</b> provides a number of useful ways to
query places, such as <b>Place.places</b>, a <b>Sequence[Place]</b> of 
the places
available to the current run of the program.

<div class="p"><!----></div>
Objects and structs (with one exception) are created in a single place - the
place that the constructor call was running in. They cannot change places.
They can be <em>copied</em> to other places, and the special library struct
<b>GlobalRef</b> allows values at one place to point to values at another.  

<div class="p"><!----></div>
 <h2><a name="tth_sEc1">
1</a>&nbsp;&nbsp;The Structure of Places</h2>





<div class="p"><!----></div>
Places are numbered 0 through <b>Places.MAX_PLACES-1</b>, stored in the field
<b>pl.id</b>.  The <b>Sequence[Place]</b> <b>Place.places()</b> contains the places of the
program, in numeric order. 
The program starts by executing a <b>main</b> method at
<b>Place.FIRST_PLACE</b>, which is 
<b>Place.places()(0)</b>; see
&#167;. 

<div class="p"><!----></div>
Operations on places include <b>pl.next()</b>, which gives the next entry
(looping around) in <b>Place.places</b> and its opposite <b>pl.prev()</b>. In
particular, <b>here.next()</b> means &#228; place other than <b>here</b>", except
in single-place executions.
There are also a number of tests, like <b>pl.isSPE()</b> and 
<b>pl.isCUDA()</b>, which test for particular kinds of processors.

<div class="p"><!----></div>
 <h2><a name="tth_sEc2">
2</a>&nbsp;&nbsp;<tt>here</tt></h2><a name="Here">
</a>

<div class="p"><!----></div>
The variable <b>here</b> is always bound to the place at which the current
computation is running, in the same way that <b>this</b> is always bound to the
instance of the current class (for non-static code), or <b>self</b> is bound to
the instance of the type currently being constrained.  
<b>here</b> may denote different places in the same method body, due to
place-shifting operations. In the following code, <b>here</b> has one value at
<b>h0</b>, and a different one at <b>h1</b>. 
<pre>
val h0 = here;
at (here.next()) {
  val h1 = here; 
  assert (h0 != h1);
}
</pre>

(Similar examples show that <b>self</b> and <b>this</b> have the same behavior:
<b>self</b> can be modified by constrained types appearing inside of type
constraints, and <b>this</b> by inner classes.)

<div class="p"><!----></div>
The following example looks through a list of references to <b>Thing</b>s.  
It finds those references to things that are <b>here</b>, and deals with them.  
<pre>
  public static def deal(things: List[GlobalRef[Thing]]) {
     for(gr in things) {
        if (gr.home == here) {
           val grHere = 
               gr as GlobalRef[Thing]{gr.home == here};
           val thing &lt;: Thing = grHere();
           dealWith(thing);
        }
     }
  }
</pre>

<div class="p"><!----></div>

<br /><br /><hr /><small>File translated from
T<sub><font size="-1">E</font></sub>X
by <a href="http://hutchinson.belmont.ma.us/tth/">
T<sub><font size="-1">T</font></sub>H</a>,
version 3.89.<br />On 16 Oct 2010, 13:23.</small>
</html>
