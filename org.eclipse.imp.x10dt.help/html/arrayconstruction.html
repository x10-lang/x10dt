<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<meta name="GENERATOR" content="TtH 3.80">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>

	<title>Array Type Constructors</title>
</head>

<body>
 <h2><a name="tth_sEc4">
4</a>&nbsp;&nbsp;Array Type Constructors</h2>
<a name="ArrayypeConstructors">
</a>

<div class="p"><!----></div>
 X10 v1.01 does not have array class declarations
(&#167;&nbsp;). This means that user cannot define new array
class types. Instead arrays are created as instances of array types
constructed through the application of <em>array type constructors</em>
(&#167;&nbsp;).

<div class="p"><!----></div>
The array type constructor takes as argument a type (the <em>base
type</em>), an optional distribution (&#167;&nbsp;), and
optionally either the keyword <tt>reference</tt> or <tt>value</tt> (the
default is reference):
<pre>
18    ArrayType ::= Type [ ]
438   ArrayType ::= X10ArrayType
439   X10ArrayType ::= Type [ . ]
440     | Type reference [ . ]
441     | Type value [ . ]
442     | Type [ DepParameterExpr ]
443     | Type reference [ DepParameterExpr ]
444     | Type value [ DepParameterExpr ]
</pre>

<div class="p"><!----></div>
The array type <tt>Type[ ] </tt> is the type of all arrays of base
type <tt>Type</tt> defined over the distribution <tt>0:N -&#62; here</tt>
for some positive integer <tt>N</tt>.

<div class="p"><!----></div>
The qualifier <tt>value</tt> (<tt>reference</tt>) specifies that the array
is a <tt>value</tt>(<tt>reference</tt>) array. The array elements of a <tt>
value</tt> array are all <tt>final</tt>.<a href="#tthFtNtAAC" name="tthFrefAAC"><sup>2</sup></a>If the qualifier is not specified,
the array is a <tt>reference</tt> array.

<div class="p"><!----></div>
The array type <tt>Type reference [.]</tt> is the type of all (reference)
arrays of basetype <tt>Type</tt>. Such an array can take on any
distribution, over any region. Similarly, <tt>Type value [.]</tt> is the
type of all value arrays of basetype <tt>Type</tt>.

<div class="p"><!----></div>
 X10 v1.1 also allows a distribution to be specified between <tt>
[</tt> and <tt>]</tt>. The distribution must be an expression of type
<tt>distribution</tt> (e.g. a <tt>final</tt> variable) whose
value does not depend on the value of any mutable variable.

<div class="p"><!----></div>
Future extensions to  X10 will support a more general syntax for
arrays which allows for the specification of dependent types, 
e.g. <tt>double[:rank 3]</tt>, the type of all arrays of 
<tt>double</tt> of rank <tt>3</tt>.
</body>
</html>