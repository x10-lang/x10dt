<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<meta name="GENERATOR" content="TtH 3.80">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>
	<title>Distributed Array Construction</title>
</head>

<body>
 <h2><a name="tth_sEc6">
6</a>&nbsp;&nbsp;Distributed Array Construction</h2><a name="ArrayInitializer">
</a>




<div class="p"><!----></div>
<b>DistArray</b>s are instantiated by invoking one of the <b>make</b> factory
methods of the <b>DistArray</b> class.
A <b>DistArray</b> creation 
must take either an <b>Int</b> as an argument or a <b>Dist</b>. In the first
case,  a distributed array is created over the distribution <b>[0:N-1]-&#62;here</b>;
in the second over the given distribution. 

<div class="p"><!----></div>
A distributed array creation operation may also specify an initializer
function.
The function is applied in parallel
at all points in the domain of the distribution. The
construction operation terminates locally only when the <b>DistArray</b> has been
fully created and initialized (at all places in the range of the
distribution).

<div class="p"><!----></div>
For instance:
<pre>
val data : DistArray[Int]
    = DistArray.make[Int](1..1000-&#62;here, ([i]:Point(1)) =&#62; i);
val blocked = Dist.makeBlock((1..1000)*(1..1000));
val data2 : DistArray[Int]
    = DistArray.make[Int](blocked, ([i,j]:Point(2)) =&#62; i*j);
</pre>

<div class="p"><!----></div>
 The first declaration stores in <b>data</b> a reference to a mutable
distributed array with <b>1000</b> elements each of which is located in the
same place as the array. The element at <b>[i]</b> is initialized to its index
<b>i</b>. 

<div class="p"><!----></div>
The second declaration stores in <b>data2</b> a reference to a mutable
two-dimensional distributed array, whose coordinates both range from 1 to
1000, distributed in blocks over all <b>Place</b>s, 
initialized with <b>i*j</b>
at point <b>[i,j]</b>.

<div class="p"><!----></div>
<pre>
</pre>

<div class="p"><!----></div>

</body>
</html>